const sprite="/inventory/marvindoll_sheet.png",spritew=138,spriteh=256,mf=["0","1","2","3","4"];function gsi(e){return`${sprite}#${138*e},0,138,256`}function loadsprite(e){e.forEach(e=>{new Image().src=e})}loadsprite(mf.map((e,t)=>gsi(t))),setTimeout(()=>{function e(){let e=document.getElementById("inventory0empty");e&&(e.id="inventory0marvin",t.disconnect())}let t=new MutationObserver(t=>{for(let n of t)"childList"===n.type&&e()});t.observe(document.body,{childList:!0,subtree:!0}),e();let n=document.getElementById("portrait-temp");function o(e){let t=null,n=null;function o(i){if(!document.getElementById("holdingmarvin")){document.body.removeEventListener("mousemove",o);return}if(null!==t&&null!==n){let r=Date.now()-n,l=i.pageX-t,s=Math.abs(l)/r;l>0&&s>=6?e.style.backgroundPosition="-138px 0":l<0&&s>=6?e.style.backgroundPosition="-276px 0":(e.style.backgroundPosition="-414px 0",setTimeout(()=>{e.style.backgroundPosition="0 0"},64))}t=i.pageX,n=Date.now()}document.body.addEventListener("mousemove",o)}n.id="portrait-marvin",n.draggable=false,n.title="Decrepit vessel.",n.src="/inventory/inventory_portrait-marvindoll.png",n.style.display="block",n.style.cursor="pointer",document.getElementById("inventory0marvin").addEventListener("click",function(e){e.stopPropagation(),mrv1.play();let t=document.getElementById("holdingmarvin");if(document.getElementById("portrait-marvin").style.display="none",t)return;(t=document.createElement("div")).id="holdingmarvin",t.style.backgroundPosition="0 0",t.style.backgroundImage=`url(${sprite})`,t.style.width="138px",t.style.height="256px",t.style.backgroundSize="cover",t.style.backgroundRepeat="no-repeat",t.style.position="absolute",t.style.pointerEvents="none",t.style.zIndex="5",document.getElementById("gameframe")&&(document.getElementById("gameframe").style.zIndex="-1");let n=document.getElementById("dropper");function i(e){t.style.left=e.pageX-n.offsetLeft-69+"px",t.style.top=e.pageY-n.offsetTop-122+"px"}function r(){document.getElementById("portrait-marvin").style.display="block",mrv2.play(),document.body.removeEventListener("mousemove",i),document.body.removeEventListener("click",r),document.getElementById("droppoint").removeEventListener("click",l),t.remove(),document.getElementById("portrait-marvin").style.display="block",document.body.removeEventListener("mousemove",o),document.getElementById("gameframe")&&(document.getElementById("gameframe").style.zIndex="1")}function l(e){e.stopPropagation(),window.location.href.includes("/find-brooklyn-guy")&&"droppoint"===e.target.id&&(document.getElementById("inventory0marvin").style.display="none",window.location.replace("/pit/"),r())}n.appendChild(t),t.style.left=e.pageX-n.offsetLeft-69+"px",t.style.top=e.pageY-n.offsetTop-122+"px",o(t),document.addEventListener("keydown",function(e){"Escape"===e.key&&r()}),document.body.addEventListener("mousemove",i),document.body.addEventListener("click",r),document.getElementById("droppoint").addEventListener("click",l)}),localStorage.setItem("pitvis","false")},64);let mrv1=new Audio("/global/ui-02.ogg"),mrv2=new Audio("/global/ui-03.ogg");